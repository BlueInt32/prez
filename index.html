<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>RAPP - Retour d'XP</title>
	<meta name="description" content="A framework for easily creating beautiful presentations using HTML">
	<meta name="author" content="Hakim El Hattab">
	<meta name="apple-mobile-web-app-capable" content="yes" />
	<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<link rel="stylesheet" href="css/reveal.css">
	<link rel="stylesheet" href="css/theme/sky.css" id="theme">
	<!-- For syntax highlighting -->
	<link rel="stylesheet" href="lib/css/vs_good.css">
	<!-- If the query includes 'print-pdf', include the PDF print sheet -->
	<script>
		if (window.location.search.match(/print-pdf/gi))
		{
			var link = document.createElement('link');
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = 'css/print/pdf.css';
			document.getElementsByTagName('head')[0].appendChild(link);
		}
	</script>
	<!--[if lt IE 9]>
	<script src="lib/js/html5shiv.js"></script>
	<![endif]-->
</head>
<body>
	<div class="reveal">
		<!-- Any section element inside of this container is displayed as a slide -->
		<div class="slides">

<!-- /$$$$$$             /$$
	|_  $$_/            | $$
	  | $$   /$$$$$$$  /$$$$$$    /$$$$$$   /$$$$$$
	  | $$  | $$__  $$|_  $$_/   /$$__  $$ /$$__  $$
	  | $$  | $$  \ $$  | $$    | $$  \__/| $$  \ $$
	  | $$  | $$  | $$  | $$ /$$| $$      | $$  | $$
	 /$$$$$$| $$  | $$  |  $$$$/| $$      |  $$$$$$/
	|______/|__/  |__/   \___/  |__/       \______/
-->
			<section>
				<h1>Retour d'expérience</h1>
				<h3><img src="/img/illustrations/logo_rapp.png" /></h3><h4>Ecran de Monitoring Collecte Canal+</h4>
				<p>
					<small>Simon BUDIN</small>
				</p>

			</section>
			<section>
				<h2>Sommaire</h2>
				<h3 class="fragment fade-in">Contexte du projet <img class="fragment roll-in" src="/img/illustrations/marker_maps.png" style="position: absolute;max-width: 11%;top: 27%;right: 30%;"></h3>
				<h3 class="fragment fade-in">Code First <img class="fragment roll-in" src="/img/illustrations/csharptodb.png" style="position: absolute;max-width: 17%;top: 42%;right: 67%;"></h3>
				<h3 class="fragment fade-in">Web Api <img class="fragment roll-in" src="/img/illustrations/dbtojson.png" style="position: absolute;max-width: 20%;top: 59%;right: 18%;"></h3>
				<h3 class="fragment fade-in">Angular JS <img class="fragment roll-in" src="/img/illustrations/angular_transp.png" style="position: absolute;max-width: 8%;top: 73%;right: 67%;"></h3>
			</section>
			<section>
				<h1>Contexte du projet</h1>
			</section>
			<section>
				<section>
					<img src="/img/illustrations/logo_rapp.png">
					<p>RAPP est une agence de marketing et communication digitale basée à Saint-Ouen</p>
					<img src="img/illustrations/rapp_saint_ouen.png" />
				</section>
				<section>
				<img src="/img/illustrations/rapp.png">
					<aside class="notes">
						<p>Travaux</p>
						<ul>
							<li>Projets de type vitrine</li>
							<li>Sites de fidelisation</li>
							<li>Jeux de tirages au sort</li>
						</ul>
					</aside>
				</section>
			</section>
			<section>
				<h2>Clients de RAPP</h2>
				<p>
					<img class="fragment fade-in noborder" src="img/marques/lacoste.jpg" />
					<img class="fragment fade-in noborder" src="img/marques/imaginer.jpg" />
					<img class="fragment fade-in noborder" src="img/marques/nivea.png" />
					<img class="fragment fade-in noborder" src="img/marques/tena.png" />
					<img class="fragment fade-in noborder" src="img/marques/canal.png" />

				</p>
				<aside class="notes">
					<p>Clients</p>
					<ul>
						<li>Lacoste</li>
						<li>Imagine R</li>
						<li>Nivea</li>
						<li>Tena..</li>
						<li>Canal+</li>
					</ul>
				</aside>
			</section>
			<section>
				<section>
					<h2>Jeu Canal + Collecte</h2>
					<p>Objectif pour Canal+ : remplir sa base de données d'emails</p>
					<p><br/></p>
					<p><img class="nobordernoshadow fragment roll-in" src="img/illustrations/down_arrow.gif">
				</section>

				<section>
					<a href="http://legrandjeudesheroscanalplus.fr">
						<img src="/img/ScreensJeu/Home.jpg" />
					</a>
				</section>

				<section><img src="/img/ScreensJeu/gagne.png" /></section>
				<section><img src="/img/ScreensJeu/q1.png" /></section>
				<section><img src="/img/ScreensJeu/q1_form.png" /></section>
				<section><img src="/img/ScreensJeu/q2.png" /></section>
				<section><img src="/img/ScreensJeu/q3.png" /></section>
				<section><img src="/img/ScreensJeu/q4.png" /></section>
				<section><img src="/img/ScreensJeu/q5_form.png" /></section>
				<section><img src="/img/ScreensJeu/result.png" /></section>

				<aside class="notes">
					<ul>
						<li>Le jeu en cours est le n°4.</li>
					</ul>
				</aside>
			</section>
			<section>
				<h2>Intervenants du projet</h2>
				<h3 class="subs">CANAL+ </h3><p class="fragment fade-in">Récupère les prospects, peut déterminer si un prospect est valide</p>
				<h3 class="subs">RAPP </h3><p class="fragment fade-in">Développe le jeu et les services associés</p>
				<h3 class="subs">TradeDoubler </h3><p class="fragment fade-in">Amène des joueurs sur le jeu grâce à des sites affiliés</p>
			</section>
			<section>
				<h3>Problématique principale du projet</h3>
				<br />
				<p class="fragment fade-in">CANAL+ doit rémunérer TradeDoubler pour les inscrits au jeu qu'il ne connaissait pas déjà.</p>
				<p class="fragment fade-in">Il faut donc régulièrement fournir à TradeDoubler une liste des personnes valides du point de vue de Canal+</p>
			</section>
			<section style="position:relative;">
				<h2>La Moulinette</h2>
				<p>Service Windows tournant chez RAPP sur le serveur du jeu</p>
				<img src="img/diagrammes/fonctionnel_moulinette_donnees_0.png">
				<p class="fragment fade-in">3 actions quotidiennes principales : </p>
				<ol>
					<li class="fragment fade-in"><img class="nobordernoshadow" src="img/diagrammes/fonctionnel_moulinette_donnees_1.png" style="width:20%;position:absolute; top:33%;left:21%;" />génère la liste des inscrits du jour et l'envoie à Canal+</li>
					<li class="fragment fade-in"><img class="nobordernoshadow" src="img/diagrammes/fonctionnel_moulinette_donnees_2.png" style="width:20%;position:absolute; top:42%;left:21%;" />récupère la liste transformée par Canal+ (statuts "déjà inscrit Canal+")</li>
					<li class="fragment fade-in"><img class="nobordernoshadow" src="img/diagrammes/fonctionnel_moulinette_donnees_3.png" style="width:20%;position:absolute; top:37%;left:57%;" />génère une liste pour TradeDoubler (leads valides) et lui envoie</li>
				</ol>
			</section>
			<section>
				<!--data-background="#007777"-->
				<h2>En pratique...</h2>
				<p>Les fichiers envoyés sont des fichiers csv et xml sur des serveurs ftp</p>
				<img src="img/diagrammes/fonctionnel_moulinette_fichiers_0.png">
				<p>Fichiers envoyés sur des FTP</p>
				<ol>
					<li class="fragment fade-in"><img class="nobordernoshadow" src="img/diagrammes/fonctionnel_moulinette_fichiers_1.png" style="width:20%;position:absolute; top:38%;left:21%;" />CSV "IN" généré et envoyé à Minuit</li>
					<li class="fragment fade-in"><img class="nobordernoshadow" src="img/diagrammes/fonctionnel_moulinette_fichiers_2.png" style="width:20%;position:absolute; top:47%;left:21%;" />CSV "OUT" reçu vers 12h10</li>
					<li class="fragment fade-in"><img class="nobordernoshadow" src="img/diagrammes/fonctionnel_moulinette_fichiers_3.png" style="width:20%;position:absolute; top:42%;left:57%;" />XML généré à la volée (jointure entre csv "OUT" et base locale)</li>
				</ol>
			</section>
			<!-- Example of nested vertical slides -->
			<section>
				<h3>Mécanique de la moulinette</h3>
				<img class="nobordernoshadow" src="img/diagrammes/flowchart_0.png" alt="Alternate Text" />
				<img class="nobordernoshadow fragment fade-in" src="img/diagrammes/flowchart_1_diff.png" style="width:41%;position:absolute; top:32%;left:38%;" />
			</section>
			<section>
				<h2>L'écran de monitoring</h2>

				<h3 class="subs fragment fade-in">Objectif</h3><p class="fragment fade-in">Contrôler la création et les échanges de fichiers</p>
				<h3 class="subs fragment fade-in">Comment</h3><p class="fragment fade-in">En maintenant à jour une liste de "Bundles" et de "BundleFiles"</p>
				<h3 class="subs fragment fade-in">Bundle</h3><p class="fragment fade-in">
					Groupe de 3 fichiers quotidiens<br />Csv "IN", Csv "OUT" et Xml
				</p>
			</section>
			<section>
				<section>
					<h2>L'écran de monitoring</h2>
					<ul>
						<li>Bundles triés par semaine</li>
						<li>Chaque Bundle a une date, un statut et des métadonnées</li>
						<li>Fichiers Horodatés avec lien de prévisualisation</li>
					</ul>
					<img class="noborder" src="/img/ScreensMonitoring/Screen.jpg" />
				</section>
				<section>
					<h3>Panel de prévisualisation</h3>
					<img class="noborder" src="/img/ScreensMonitoring/ScreenLarge.png" />
					<br/>
					<a href="http://rappMonitor@monitoring.collecte.canalplus.clients.rappfrance.com" data-preview-link>Voir en vrai</a>
				</section>
			</section>
			<section>
				<h2>Comment c'est fait ?</h2>
				<img src="img/illustrations/cambouis_s.png" />
			</section>
			<section>
				<h2>Architecture</h2>
				<img src="img/diagrammes/archi.png" />
				<ol>
					<li class="fragment current-visible"><img class="nobordernoshadow" src="img/diagrammes/arrow.png" style="width:4%;position:absolute; top:21%;left:33%;" />Entity Framework 6 - Code First</li>
					<li class="fragment current-visible"><img class="nobordernoshadow" src="img/diagrammes/arrow.png" style="width:4%;position:absolute; top:21%;left:57%;" />ASP.Net - Web Api 2</li>
					<li class="fragment current-visible"><img class="nobordernoshadow" src="img/diagrammes/arrow.png" style="width:4%;position:absolute; top:21%;left:86%;" />AngularJS</li>
				</ol>
				<aside class="notes">
					On ne détaillera pas beaucoup la partie qui remplit les bundles : on considérera les bundles essentiellement en lecture.
				</aside>
			</section>
			<section>
				<h3>Fonctionnel simple</h3>
				<br/>
				<p class="fragment fade-in">Un bon prétexte pour tester des technos !</p>
			</section>
<!--
	  /$$$$$$                  /$$                  /$$$$$$  /$$                       /$$
	 /$$__  $$                | $$                 /$$__  $$|__/                      | $$
	| $$  \__/  /$$$$$$   /$$$$$$$  /$$$$$$       | $$  \__/ /$$  /$$$$$$   /$$$$$$$ /$$$$$$
	| $$       /$$__  $$ /$$__  $$ /$$__  $$      | $$$$    | $$ /$$__  $$ /$$_____/|_  $$_/
	| $$      | $$  \ $$| $$  | $$| $$$$$$$$      | $$_/    | $$| $$  \__/|  $$$$$$   | $$
	| $$    $$| $$  | $$| $$  | $$| $$_____/      | $$      | $$| $$       \____  $$  | $$ /$$
	|  $$$$$$/|  $$$$$$/|  $$$$$$$|  $$$$$$$      | $$      | $$| $$       /$$$$$$$/  |  $$$$/
	 \______/  \______/  \_______/ \_______/      |__/      |__/|__/      |_______/    \___/
-->

			<section>
				<h1>EF Code first</h1>

				<img class="nobordernoshadow fragment fade-in" src="img/illustrations/csharptodb.png" />
				<p class="fragment fade-in">POCO</p>
				<p class="fragment fade-in">DbContext</p>
				<p class="fragment fade-in">Workflow</p>
				<p class="fragment fade-in">Conventions &amp; Ajustements</p>
				<aside class="notes">
					Par opposition à "Database first" et "Model first"
				</aside>
			</section>
			<section>
				<section>
					<h2>POCO</h2>
					<p class="fragment fade-in"><u>P</u>lain <u>O</u>ld <u>C</u>LR <u>O</u>bject</p>
					<p class="fragment fade-in">Aucune référence à l'ORM</p>
					<p><img class="nobordernoshadow fragment roll-in" src="img/illustrations/down_arrow.gif">
					<aside class="notes">
						<ul>
							<li>Distinguer Propriétés Scalaires / Propriétés de navigation</li>
							<li>mot clef Virtual sur prop navigation permet d'utiliser le lazy loading.</li>
						</ul>
					</aside>
				</section>
				<section>
				<h3>Diagramme de classes</h3>
					<img class="nobordernoshadow" src="img/diagrammes/ClassDiagram.png">
				</section>
				<section>
					<h2>Bundle</h2>
					<img src="img/screenscode/codefirst/CollecteContext_POCO_Bundle.jpg">
					</section>
					<section>
						<h2>BundleFile</h2>
					<img src="img/screenscode/codefirst/CollecteContext_POCO_BundleFile.jpg">
					</section>
					<section>
					<h2>Enums</h2>
					<img src="img/screenscode/codefirst/CollecteContext_POCO_Enums.jpg">
					</section>
			</section>
			<section>
			<section>
				<h3>DbContext</h3>
				<p>Brique de base d'EF</p>
				<p>Représente une session d'accès à la base de données</p>

				<aside class="notes">
					<ul>
						<li>Brique de base d'EF code first</li>
						<li>Représente une session d'accès à la base de données</li>
						<li></li>
					</ul>
				</aside>
				</section>
				<section>
				<h3>CollectContext</h3>
					<img class="nobordernoshadow"  src="img/screenscode/codefirst/CollecteContext_DbSets.jpg">

					<p class="fragment fade-in">On hérite de DbContext</p>
					<p class="fragment fade-in">Un DbSet par table</p>
				</section>
				<section>
					Utilisation : Create Bundle
					<img class="nobordernoshadow" src="img/screenscode/codefirst/Create_Bundle.jpg">
				</section>
				<section>
					Utilisation : Get &amp; List Bundles
					<img class="nobordernoshadow" src="img/screenscode/codefirst/Get_Bundle.jpg">
					<img class="nobordernoshadow" src="img/screenscode/codefirst/List_Bundle.jpg">
				</section>
				<section>
					Utilisation : Create Bundle Files
					<img class="nobordernoshadow" src="/img/ScreensCode/CodeFirst/Create_BundleFile.jpg">
				</section>
			</section>
			<section>
				<section><h3>Workflow</h3></section>
				<section>
					<h3>Pour créer/modifier la base</h3>
					<h3>On créé des migrations</h3>
				</section>
				<section>
					<p>Une migration décrit le différentiel dans la base de données par rapport à la migration précédente.</p>
					<br/>
					<p class="fragment fade-in">Modification du modèle = Migration
					<img class="nobordernoshadow" src="img/diagrammes/migration.png"></p>
				</section>
				<section>
					<h3>En pratique...</h3>
					<img class="stretch"  src="img/diagrammes/MigrationsWorflows.png">
				</section>
				<section>
					<p>On utilise Package Manager Console</p>
					<img src="img/screenscode/codefirst/package_manager_console.jpg">
				</section>
				<section><h3>Enable-Migrations</h3><img src="img/screenscode/codefirst/Enabling_Migrations_small.png">
				<p><img src="img/screenscode/codefirst/Enable_migratoins.png"></p>
				<p class="fragment fade-in">A ne faire qu'une fois</p>
				</section>
				<section>
					<h4>Fichier Configuration.cs</h4>
					<img src="img/screenscode/codefirst/Configuration - Not Automatic Migration.jpg">
					<p>La méthode Seed peut être utilisée en dev pour préremplir des données</p>
				</section>

				<section><h3>Add-migration</h3>
				<img src="img/screenscode/codefirst/add_migration.png">
				<p><img src="img/screenscode/codefirst/add_migration_files.png" class="fragment"></p>
				</section>
				<section>
					<h4>Fichier de migration</h4>
					<img src="img/screenscode/codefirst/DbMigrationGeneratedCode.jpg">
				</section>
				<section><h3>Update-Database</h3>
					<img src="img/screenscode/codefirst/update_database.png" style="max-width:150%">
					<div class="fragment fade-in">
						<p>Paramètres utiles
						<ul>
							<li>verbose - précisions sur actions effectuées</li>
							<li>force - en cas de perte potentielle de données</li>
							<li>script - prévisualisation du script généré</li>
						</ul>
						</p>
					</div>
				</section>
			</section>
			<section>
				<section>
					<img src="img/illustrations/warning.png"><h3>Connection Strings</h3>
					<p class="fragment fade-in">La ConnectionString porte le nom du contexte<br/>
					<img src="img/screenscode/codefirst/collectContextConnectionString.png"></p>
					<p class="fragment fade-in">Si pas de ConnectionString valide trouvée -> LocalDb<br/>
					<img src="img/screenscode/codefirst/ConnectionString_auto.jpg"></p>
				</section>
				<section>
					<img src="img/illustrations/warning.png"><h3>Connection Strings</h3>
					<p class="fragment fade-in">
						Pour éxécuter les commandes</p>
						<p class="fragment fade-in">1. Projet de démarrage = celui contenant la connection string
						<p class="fragment fade-in">2. 'Défault project' dans PMC
						<img src="img/screenscode/codefirst/defaultproject.jpg"></p>
					</p>
				</section>
				<section>
					<img src="img/illustrations/warning.png"><h2>Pièges : Initializers</h2>
					<p class="fragment fade-in">
						Désactiver l'initializer par défaut (sinon danger)
					</p>
					</p>
					<img class="fragment fade-in" src="img/screenscode/codefirst/CollecteContext_Config_init.png">
				</section>
			</section>
			<section>
				<section>
				<h3>Conventions &amp; Ajustements</h3></section>
				<section>
					<h3>Convention de clef primaire</h3>
					<img src="img/screenscode/codefirst/bundleFileZoom.png">
					<p>Propriété Int ou Guid terminant par Id ou ID, ou avec l'attribut Key</p>
				</section>
				<section>
					<h3>Convention de relations</h3>
					<p>Il est conseillé de fournir la clef de l'entité liée en plus de la collection</p>
					<img src="img/screenscode/codefirst/CollecteContext_POCO_BundleFile.jpg">
					<p><a href="http://msdn.microsoft.com/en-us/data/jj679962.aspx">Source msdn</a></p>
				</section>
				<section>
					<h3>Deux moyens d'ajuster les propriétés du modele</h3>
					<p class="fragment fade-in">Dans les POCO directement avec des attributs</p>
					<p class="fragment fade-in">Dans la définition du contexte, Fluent API</p>
				</section>
				<section>
					<p>Les attributs : Key, StringLength, NotMapped, Required</p>
					<img src="img/screenscode/codefirst/CollecteContext_POCO_Bundle.jpg">
					<p>Il en existe d'autres</p>
				</section>
				<section>
					<p>La fluent API : contraintes définies en redéfinissant OnModelCreating dans le contexte</p>
					<img src="img/screenscode/codefirst/CollecteContext_Config_onmodel.png">
					<p>Permet des modifications plus poussées</p>
				</section>


			</section>

<!--
	 /$$      /$$           /$$              /$$$$$$            /$$
	| $$  /$ | $$          | $$             /$$__  $$          |__/
	| $$ /$$$| $$  /$$$$$$ | $$$$$$$       | $$  \ $$  /$$$$$$  /$$
	| $$/$$ $$ $$ /$$__  $$| $$__  $$      | $$$$$$$$ /$$__  $$| $$
	| $$$$_  $$$$| $$$$$$$$| $$  \ $$      | $$__  $$| $$  \ $$| $$
	| $$$/ \  $$$| $$_____/| $$  | $$      | $$  | $$| $$  | $$| $$
	| $$/   \  $$|  $$$$$$$| $$$$$$$/      | $$  | $$| $$$$$$$/| $$
	|__/     \__/ \_______/|_______/       |__/  |__/| $$____/ |__/
	                                                 | $$
	                                                 | $$
	                                                 |__/
-->
			<section>
				<h1>ASP.NET<br/>Web Api 2</h1>
				<img class="fragment fade-in" class="nobordernoshadow" src="img/illustrations/dbtojson.png" />
				<p class="fragment fade-in">Routing</p>
				<p class="fragment fade-in">Formatters</p>
				<p class="fragment fade-in">Filtres d'action</p>
			</section>
			<section>
				<section>
					<h2>Routing</h2>
				</section>
				<section>
					<h3>Fondé sur le verbe HTTP</h3>
					<ul>
						<li>GET pour récupérer des données (liste ou élément)</li>
						<li>POST : pour enregistrer un nouvel element</li>
						<li>PUT : pour modifier un element</li>
						<li>DELETE : pour supprimer un élément</li>
					</ul>
					<br/><br/>
					<p>Il dicte quelle action effectuer dans le contrôleur</p>
				</section>
				<section>
					<p>Mapping HTTP to Action (<a href="http://www.asp.net/web-api/overview/web-api-routing-and-actions/routing-in-aspnet-web-api">msdn</a>)</p>
					<img src="/img/ScreensCode/WebAPI/routing_mapping.jpg">
				</section>
				<section>
					<h3>Deux méthodes de routing</h3>
				</section>
				<section>
					<p>1. Dans WebApiConfig (similaire à ASP.NET MVC)</p>
					<img src="/img/ScreensCode/WebAPI/api_routing_1_default_routing.png">
					<p>On ne spécifie pas l'action, qui est déduite par le moteur grâce au verbe HTTP</p>
				</section>
				<section>
					<h3>Action GetAllBundles</h3>
					<img src="/img/ScreensCode/WebAPI/api_action_getallbundles.jpg">
					<p>Appelée avec <code>/api/bundles/</code></p>
					<p>GET + pas de paramètre = action retournant un IEnumerable</p>
				</section>
				<section>
					<p>2. Par attribut</p>
					<img src="/img/ScreensCode/WebAPI/api_action_gebundlefilecontent.jpg">
					<p>Appelée avec <code>/api/bundlefiles/[path/to/file.ext]</code></p>
					<p>GET + Paramètre "path" = type de retour object</p>
					<p>Paramètre path de type "catch-all" mappant le filepath</p>
				</section>
				<section>
					<p>Exemple</p>
					<img src="/img/ScreensCode/WebAPI/api_filecontent.png">
				</section>
			</section>
			<section>
				<section>
				<h2>Formatters</h2>
				<p>Paramétrage des types Mime</p>
				</section>
				<section>
					<h3>XML ou Json ?</h3>
					<p>C'est le client qui choisit, avec le header HTTP 'Accept'</p>
					<p>(AngularJS permet de modifier ce header)</p>
				</section>
				<section>
					<p>Accept: application/xml</p>
					<img src="/img/ScreensCode/WebAPI/xml_small.png">
				</section>
				<section>
					<p>Accept: application/json = JSON</p>
					<img src="/img/ScreensCode/WebAPI/json_smal_2l.png" />
					<img src="/img/ScreensCode/WebAPI/json_smal_3l.png" />
				</section>
				<section>
					<p>On peut supprimer un Formatter</p>
					<img src="/img/ScreensCode/WebAPI/api_remove_formater.jpg">
				</section>
				<section>
					<p>On peut indenter le JSON (pas par défaut)</p>
					<img src="/img/ScreensCode/WebAPI/api_config_indent.png">
				</section>
				<section>
					<p>On passe de</p>
					<img src="/img/ScreensCode/WebAPI/json_unformat.png">
					<p>à </p>
					<img src="/img/ScreensCode/WebAPI/json_small.png">
				</section>
			</section>
			<section>
				<section>
				<h2>Filtres d'action</h2>
				<p>Code transverse</p>
				</section>
				<section>
					<p>On peut appliquer des filtres comme dans ASP.NET MVC à plusieurs niveaux</p>
					<ul>
						<li class="fragment fade-in">Action - attribut au dessus de la méthode</li>
						<li class="fragment fade-in">Controleur - attribut au dessus de la classe</li>
						<li class="fragment fade-in">Application - à l'aide du singleton GlobalConfiguration</li>
					</ul>
				</section>
				<section>
					<p>Filtre Global d'authentification</p>
					<img src="/img/ScreensCode/WebAPI/Config_auth_filter_class.png">
				</section>
				<section>
					<p>Installation</p>
					<img src="/img/ScreensCode/WebAPI/Config_auth_filter_add.png">
					<p><a href="http://rappMonitor@monitoring.collecte.canalplus.clients.rappfrance.com" data-preview-link>Test</a></p>
					<aside class="notes">
						rappMonitor / rBIu435E1aC581
					</aside>
				</section>
			</section>
<!--
  /$$$$$$                                /$$                       /$$$$$  /$$$$$$
 /$$__  $$                              | $$                      |__  $$ /$$__  $$
| $$  \ $$ /$$$$$$$   /$$$$$$  /$$   /$$| $$  /$$$$$$   /$$$$$$      | $$| $$  \__/
| $$$$$$$$| $$__  $$ /$$__  $$| $$  | $$| $$ |____  $$ /$$__  $$     | $$|  $$$$$$
| $$__  $$| $$  \ $$| $$  \ $$| $$  | $$| $$  /$$$$$$$| $$  \__//$$  | $$ \____  $$
| $$  | $$| $$  | $$| $$  | $$| $$  | $$| $$ /$$__  $$| $$     | $$  | $$ /$$  \ $$
| $$  | $$| $$  | $$|  $$$$$$$|  $$$$$$/| $$|  $$$$$$$| $$     |  $$$$$$/|  $$$$$$/
|__/  |__/|__/  |__/ \____  $$ \______/ |__/ \_______/|__/      \______/  \______/
                     /$$  \ $$
                    |  $$$$$$/
                     \______/
-->
			<section>
				<h1>AngularJS</h1>
				<img src="/img/illustrations/angular_transp.png">
				<blockquote class="fragment current-visible">
					AngularJS is what HTML would have been, had it been designed for building web-apps.
					Declarative templates with <u>data-binding, MVW, MVVM, MVC</u>, dependency injection and great testability story all implemented with pure client-side JavaScript!
				</blockquote>
			</section>
			<section>
				<h1>AngularJS</h1>
				<img src="/img/illustrations/angular_transp.png">
				<p class="fragment fade-in">Hello World</p>
				<p class="fragment fade-in">Structure simplifiée</p>
				<p class="fragment fade-in">Mise en application</p>
				<p class="fragment fade-in">Le service Angular</p>
				<p class="fragment fade-in">Les directives</p>
			</section>
			<section>
				<section>
					<h2>Hello World</h2>
				</section>
				<section>
					<p>Avec Jquery</p>
					<p><img src="/img/ScreensCode/AngularJS/test_jquery_example.png" alt=""></p>
					<p><a href="samples/test_jquery.html" data-preview-link>Test</a></p>
				</section>
				<section>
					<p>Avec AngularJS</p>
					<img src="/img/ScreensCode/AngularJS/test_angular_example.png" alt="">
					<p><a href="samples/test_angular.html" data-preview-link>Test</a></p>
				</section>
			</section>
			<section>
				<section>
					<h2>Structure simplifiée</h2>
				</section>
				<section>
					<img src="/img/diagrammes/angular_simplifed2_nude.png">
					<aside class="notes">
						<ul>
							<li>Le controleur alimente le $scope à l'aide de services</li>
							<li>Le $scope représente le ViewModel</li>
							<li>Il notifie la vue et le controleur : binding bi-directionnel</li>
						</ul>
					</aside>
					<p class="fragment fade-in">MVC ?</p>
					<p class="fragment fade-in">MVVM ?</p>
					<p class="fragment fade-in">MVW !</p>
				</section>
			</section>
			<section>
				<section><h2>Mise en application</h2>
					<img src="/img/ScreensCode/AngularJS/files.png">
					<p class="fragment fade-in"><small>Note : écran unique = pas de gestion de routes</small></p>
				</section>
				<section>
					<h3>Module et Contrôleur</h3>
					<p class="fragment fade-in">Le module principal<br/>
					<img src="/img/ScreensCode/AngularJS/app.js.png"><br/><small>C'est la brique principale, un peu comme un assembly en .NET</small></p>
					<p class="fragment fade-in">Le controleur<br/>
					<img src="/img/ScreensCode/AngularJS/controller.js.png"></p>
					<p class="fragment fade-in">Le contrôleur n'est qu'une fonction JS !</p>
					<p class="fragment fade-in">Dépendances à $scope et bundleService injectées</p>
					<p class="fragment fade-in">Utilisation d'un objet "Promise"</p>
					<aside class="notes">
						<ul>
							<li>Contrairement au schéma simplifié, la liste des bundles est groupée par semaines</li>
							<li>Cette méthode d'injection résiste à la minification</li>
							<li>Variable showLoaderTree utilisée pour gérer le chargement</li>
						</ul>
					</aside>
				</section>
				<section>
					<h3>Côté HTML</h3>
					<p class="fragment fade-in">On charge les scripts<br/>
					<img src="/img/ScreensCode/AngularJS/index_scripts.html.png"></p>
					<p class="fragment fade-in">On définit la zone d'influence d'Angular<br/>
					<img src="/img/ScreensCode/AngularJS/index_body.html.png"></p>
					<p class="fragment fade-in"><small>le $scope ne pourra être bindé que dans cette section du DOM</small></p>
				</section>
				<section>
					<p>Utilisation du scope dans la vue<br/>
					<img src="/img/ScreensCode/AngularJS/index.html.png"></p>
					<p class="fragment fade-in">Directives ng-show et ng-hide gérant un preloader</p>
					<p class="fragment fade-in">Directives ng-repeat répétant les éléments d'une liste</p>
					<p class="fragment fade-in">Filtre sur les bundles défini 'inline'</p>
					<p class="fragment fade-in">Directive custom 'bundle' décrite plus loin</p>
				</section>
			</section>
			<section>
				<section>
					<h2>Le service Angular</h2>
					<p class="fragment fade-in">Il permet d'encapsuler les appels API</p>
					<p class="fragment fade-in">C'est une bibliothèque réutilisable</p>
				</section>
				<section>
					<p>Le bundleService</p>
					<img src="/img/ScreensCode/AngularJS/bundleService.js.png">
					<p class="fragment fade-in">Le service n'est qu'une fonction JS !</p>
					<p class="fragment fade-in">On injecte le module $http pour l'Ajax</p>
					<p class="fragment fade-in">L'objet "promise" du module $q permet une gestion asynchrone élégante</p>
				</section>
			</section>
			<section>
				<section>
					<h2>Directives</h2>
					<p class="fragment fade-in">Les directives permettent d'étendre HTML</p>
					<p class="fragment fade-in">Ce sont des templates</p>
				</section>
				<section>
					<h3>Types de directives</h3>
					<p>Angular gère 3 types de directives</p>
					<ol>
						<li class="fragment fade-in">Attributs html (comme ng-show, ng-repeat, ng-app)
						<br/><img src="/img/ScreensCode/AngularJS/directive.zoom.attribute.png" alt=""></li>
						<li class="fragment fade-in">Nom d'élément<br/>
						<img src="/img/ScreensCode/AngularJS/directive.zoom.element.png" alt=""></li>
						<li class="fragment fade-in">Classe CSS</li>
					</ol>
				</section>
				<section>
					<p>Directive custom 'bundle'</p>
					<p><small>De type Element, encapsule un objet Bundle</small></p>
					<img src="/img/ScreensCode/AngularJS/index.html.zoom_bundle.png" alt="">
					<p class="fragment fade-in">Le code est rendu très lisible</p>
					<p class="fragment fade-in">On peut combiner les directives et les filtres</p>
				</section>
				<section>
					<p>Définition de la directive</p>
					<p><small>La directive s'ajoute au module principal comme les autres types d'objets Angular</small></p>
					<img src="/img/ScreensCode/AngularJS/directive.bundle.js.png" alt="">
					<p class="fragment fade-in">Une directive n'est qu'une fonction JS !</p>
					<p class="fragment fade-in">L'attribut restrict définit le type Element</p>
					<p class="fragment fade-in">Cette directive encapsule son propre scope</p>
					<aside class="notes">
						<p>Par défaut une directive utilise le scope du template parent...</p>
						<p>sauf si on en définit un comme ici</p>
						<p>le '=which' lie la valeur 'bundle' de ce scope à la valeur 'bundle' du scope parent</p>
					</aside>
				</section>
				<section>
					<p>Template de la directive</p>
					<p><small>Le template de la directive est une sorte de partial view</small></p>
					<img src="/img/ScreensCode/AngularJS/directive.bundle.template.html.jpg" alt="">
					<p class="fragment fade-in">La notation double-brace permet d'afficher directement une valeur du scope</p>
					<p class="fragment fade-in">On peut charger d'autres directives dans le template</p>
				</section>
			</section>
			<section>
				<h2>Fin de la présentation</h2>
				<h4 class="fragment fade-in">Avez-vous des questions ?</h4>
			</section>
			<section>
				<p>Cette présentation est disponible à l'adresse suivante : <br/><a href="https://github.com/BlueInt32/prez">https://github.com/BlueInt32/prez</a></p>
			</section>
			<section>
				<h3>Bibliographie</h3>
				<h4>Code First</h4>
				<p><a target="_blank" href="http://msdn.microsoft.com/en-us/data/jj193542.aspx">Code first to new Database @ Msdn.com</a></p>
				<p><br/></p>
				<h4>Web Api</h4>
				<p><a href="http://www.asp.net/web-api/overview/getting-started-with-aspnet-web-api">Getting Started with Web Api 2</a></p>
				<p><br/></p>
				<h4>Angular JS</h4>
				<p><strike><a href="https://docs.angularjs.org/api">Site officiel Angular JS</a></strike></p>
				<p><a href="https://www.youtube.com/watch?v=i9MHigUZKEM">AngularJS Fundamentals in 60min</a></p>
				<p><a href="https://www.youtube.com/playlist?list=PLP6DbQBkn9ymGQh2qpk9ImLHdSH5T7yw7">Egghead.io Youtube</a></p>
				<p><br/></p>
			</section>
			<section>
				<h3>Outils</h3>
				<p>Graphiques : <a href="http://lucidchart.com">LucidChart</a></p>
				<p>Versionning : <a href="http://github.com">Git + Github</a></p>
				<p>Présentation HTML : <a href="http://lab.hakim.se/reveal-js/#/">reveal.js</a> + <a href="http://nodejs.org/">nodeJS</a></p>
				<p>SublimeText 3</p>
				<p>Visual Studio 2013</p>
				<p>Adobe Photoshop CS6</p>
				<p><a href="http://sourceforge.net/projects/console/">Console 2</a></p>
			</section>
		</div>
	</div>
	<script src="lib/js/head.min.js"></script>
	<script src="js/reveal.js"></script>
	<script>

		// Full list of configuration options available here:
		// https://github.com/hakimel/reveal.js#configuration
		Reveal.initialize({
			controls: true,
			progress: true,
			history: true,
			center: false,
			slideNumber: true,
			theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
			transition: 'linear', // default/cube/page/concave/zoom/linear/fade/none
			transitionSpeed: 'fast',
			previewLinks: false,
			viewDistance: 3,
			// Parallax scrolling
			// parallaxBackgroundImage: 'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg',
			// parallaxBackgroundSize: '2100px 900px',

			// Optional libraries used to extend on reveal.js
			dependencies: [
				{ src: 'lib/js/classList.js', condition: function () { return !document.body.classList; } },
				{ src: 'plugin/markdown/marked.js', condition: function () { return !!document.querySelector('[data-markdown]'); } },
				{ src: 'plugin/markdown/markdown.js', condition: function () { return !!document.querySelector('[data-markdown]'); } },
				{ src: 'plugin/highlight/highlight.js', async: true, callback: function () { hljs.initHighlightingOnLoad(); } },
				{ src: 'plugin/zoom-js/zoom.js', async: true, condition: function () { return !!document.body.classList; } },
				{ src: 'plugin/notes/notes.js', async: true, condition: function () { return !!document.body.classList; } }
			]
		});

	</script>
</body>
</html>
